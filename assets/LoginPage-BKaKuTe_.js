import{_ as $,r as c,u as j,a as D,c as M,b as s,d as _,o as m,w as r,e as a,f as v,g as w,h as z,i as A,j as b,F as E,k as T,t as W}from"./index-DinSSoxo.js";const G={class:"form-content"},H={class:"d-flex justify-space-between align-center mb-4"},J={__name:"LoginPage",setup(K){const n=c(""),i=c(""),t=c(!1),u=c(""),d=c(""),p=c([]),y=j(),x=D(),L=[o=>!!o||"Email is required",o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)||"Please enter a valid email"],q=[o=>!!o||"Password is required",o=>o.length>=6||"Password must be at least 6 characters long"];function k(){return n.value?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.value)?(u.value="",!0):(u.value="Invalid email",!1):(u.value="Email is required",!1)}function V(){return i.value?i.value.length<6?(d.value="Password too short",!1):(d.value="",!0):(d.value="Password is required",!1)}const B=M(()=>n.value&&i.value&&!u.value&&!d.value);async function C(){u.value="",d.value="",p.value=[];const o=k(),e=V();if(!o||!e)return;await x.login(n.value,i.value)?(console.log(y.getRoutes().map(g=>g.name)),await y.push({name:"Dashboard"})):p.value.push(x.error||"Login failed")}return(o,e)=>{const f=s("v-text-field"),g=s("v-checkbox"),h=s("v-btn"),F=s("v-progress-circular"),N=s("v-alert"),R=s("v-form"),P=s("v-col"),S=s("v-row"),I=s("v-container");return m(),_(I,{class:"fill-height",fluid:""},{default:r(()=>[a(S,{"no-gutters":""},{default:r(()=>[a(P,{cols:"12",md:"6",class:"login-form"},{default:r(()=>[v("div",G,[e[5]||(e[5]=v("div",{class:"logo"},[w("Msb"),v("span",{class:"dot"},".")],-1)),e[6]||(e[6]=v("h1",{class:"welcome-text"},"Welcome",-1)),e[7]||(e[7]=v("p",{class:"login-text"},"Login",-1)),a(R,{onSubmit:z(C,["prevent"]),ref:"form"},{default:r(()=>[a(f,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),"error-messages":u.value,label:"Email","prepend-inner-icon":"mdi-email",type:"email",variant:"outlined",class:"mb-4",rules:L,onBlur:k,required:""},null,8,["modelValue","error-messages"]),a(f,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l),"error-messages":d.value,label:"Password","prepend-inner-icon":"mdi-lock","append-inner-icon":t.value?"mdi-eye":"mdi-eye-off",type:t.value?"text":"password",variant:"outlined",class:"mb-4",rules:q,onBlur:V,"onClick:appendInner":e[2]||(e[2]=l=>t.value=!t.value),required:""},null,8,["modelValue","error-messages","append-inner-icon","type"]),v("div",H,[a(g,{modelValue:t.value,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value=l),label:"Show password","model-value":t.value,color:"primary",density:"compact","hide-spin-buttons":"","hide-details":"",class:"mt-0 show-password-checkbox"},null,8,["modelValue","model-value"]),a(h,{variant:"text",color:"primary",to:"/forgot-password",class:"text-none"},{default:r(()=>e[4]||(e[4]=[w(" Forgot Password? ")])),_:1})]),a(h,{type:"submit",color:"primary",size:"large",block:"",loading:o.loading,disabled:o.loading||!B.value,class:"login-btn"},{default:r(()=>[o.loading?(m(),_(F,{key:0,indeterminate:"",color:"white"})):(m(),b(E,{key:1},[w(" Login ")],64))]),_:1},8,["loading","disabled"]),p.value.length>0?(m(),_(N,{key:0,type:"error",class:"mt-4"},{default:r(()=>[(m(!0),b(E,null,T(p.value,(l,U)=>(m(),b("div",{key:U},W(l),1))),128))]),_:1})):A("",!0)]),_:1},512)])]),_:1}),a(P,{cols:"12",md:"6",class:"login-image"})]),_:1})]),_:1})}}},Q=$(J,[["__scopeId","data-v-7f913777"]]);export{Q as default};
