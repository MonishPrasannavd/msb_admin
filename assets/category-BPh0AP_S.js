import{y as n,z as s}from"./index-Byt0xI8g.js";const c=n("category",{state:()=>({categories:[],loading:!1,error:null,pagination:{page:1,per_page:10,total:0}}),actions:{async fetchCategories(t={}){var e,a,r;this.loading=!0;try{const{data:o}=await s.get("/category/get-categories",{params:t});this.categories=o.data,this.pagination={page:((e=o.meta)==null?void 0:e.current_page)||1,per_page:((a=o.meta)==null?void 0:a.per_page)||10,total:((r=o.meta)==null?void 0:r.total)||0}}finally{this.loading=!1}},async createCategory(t){var a,r,o;this.loading=!0;const e=new FormData;e.append("name",t.name),e.append("type",t.type),e.append("is_future",t.is_future?1:0),t.icon&&e.append("icon",t.icon);try{return await s.post("/category/create-category",e),!0}catch(i){return this.error=((r=(a=i.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to create category",console.error("Failed to create category:",(o=i.response)==null?void 0:o.data),!1}finally{this.loading=!1}},async updateCategory(t,e){var a,r;this.loading=!0;try{return await s.put(`/category/update-category/${t}`,e),!0}catch(o){return this.error=((r=(a=o.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to update category",!1}finally{this.loading=!1}},async deleteCategory(t){var e,a;this.loading=!0;try{return await s.delete(`/category/delete-category/${t}`),!0}catch(r){return this.error=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to delete category",!1}finally{this.loading=!1}}}});export{c as u};
