import{_ as j,u as D,r as n,c as F,b as l,j as K,o as M,e as t,w as o,g as r,h as P,f as _,s as H,A as $}from"./index-D2pfTnFu.js";const L={class:"add-quiz-container"},R={__name:"AddQuizPage",setup(X){const C=D(),p=n(""),u=n(null),m=n(null),y=n(["Maths","Science","GK","History","Social Studies","Others"]),N=n(["Grade 6","Grade 7","Grade 8","Grade 9","Grade 10"]),x=n(!1),A=n(null),c=n(!1),i=n(""),h=n(null),S=n(null),b={Science:[{question:"What is the chemical symbol for gold?",options:["Au","Ag","Fe","Cu"],correct:"A"}],History:[{question:"Who was the first President of the United States?",options:["John Adams","Thomas Jefferson","George Washington","Benjamin Franklin"],correct:"C"}],GK:[{question:"Which is the largest planet in our solar system?",options:["Mars","Saturn","Jupiter","Neptune"],correct:"C"}],Maths:[{question:"What is the value of Ï€ (pi) to two decimal places?",options:["3.14","3.16","3.12","3.18"],correct:"A"}],"Social Studies":[{question:"What is the study of population patterns called?",options:["Geography","Demographics","Sociology","Economics"],correct:"B"}]},w=F(()=>p.value&&u.value&&m.value),G=()=>{const s=JSON.parse(sessionStorage.getItem("categoryQuestions")||"{}");Object.keys(b).forEach(e=>{(!s[e]||s[e].length===0)&&(s[e]=b[e])}),sessionStorage.setItem("categoryQuestions",JSON.stringify(s))},I=s=>{s==="Others"&&(h.value=u.value,c.value=!0)},z=()=>{i.value&&(y.value.splice(y.value.length-1,0,i.value),u.value=i.value,i.value="",c.value=!1)},J=()=>{u.value=h.value,i.value="",c.value=!1},O=s=>{A.value=s.target.files[0]},V=()=>{var s;if(w.value){x.value=!0;const e=JSON.parse(sessionStorage.getItem("quizzes")||"[]"),v=JSON.parse(sessionStorage.getItem("categoryQuestions")||"{}"),f=((s=v[u.value])==null?void 0:s.length)||0,d={id:e.length+1,name:p.value,category:u.value,isActive:!0,date:new Date().toLocaleDateString("en-GB"),grade:m.value,questions:f,duration:30,savedQuestions:v[u.value]||[]};e.push(d),sessionStorage.setItem("quizzes",JSON.stringify(e)),setTimeout(()=>{x.value=!1,C.push("/quizzes")},1500)}};return G(),(s,e)=>{const v=l("v-card-title"),f=l("v-text-field"),d=l("v-col"),q=l("v-select"),g=l("v-btn"),U=l("v-row"),B=l("v-form"),Q=l("v-card-text"),k=l("v-card"),T=l("v-spacer"),W=l("v-card-actions"),E=l("v-dialog");return M(),K("div",L,[t(k,{class:"add-quiz-card mx-auto",elevation:"1"},{default:o(()=>[t(v,{class:"text-center pt-6 pb-4"},{default:o(()=>e[7]||(e[7]=[r("Add Questions")])),_:1}),t(Q,null,{default:o(()=>[t(B,{onSubmit:P(V,["prevent"]),class:"add-quiz-form"},{default:o(()=>[t(U,null,{default:o(()=>[t(d,{cols:"12",md:"4"},{default:o(()=>[t(f,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),placeholder:"Enter Quiz Title",variant:"outlined",color:"success",class:"quiz-input",density:"comfortable","bg-color":"white","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(d,{cols:"12",md:"4"},{default:o(()=>[t(q,{modelValue:u.value,"onUpdate:modelValue":[e[1]||(e[1]=a=>u.value=a),I],items:y.value,placeholder:"Select Category",variant:"outlined",color:"success",class:"quiz-input",density:"comfortable","bg-color":"white","hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12",md:"4"},{default:o(()=>[t(q,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=a=>m.value=a),items:N.value,placeholder:"Select Grade",variant:"outlined",color:"success",class:"quiz-input",density:"comfortable","bg-color":"white","hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12"},{default:o(()=>[_("div",{class:"upload-section text-center py-8",onClick:e[3]||(e[3]=a=>S.value.click())},[e[8]||(e[8]=_("div",{class:"text-subtitle-1 text-success mb-2"},"Click to upload Questions CSV",-1)),e[9]||(e[9]=_("div",{class:"text-caption text-grey"}," The CSV should have columns for question text, options and correct answers* ",-1)),_("input",{type:"file",ref_key:"fileInput",ref:S,accept:".csv",style:{display:"none"},onChange:O},null,544)])]),_:1}),t(d,{cols:"12",class:"d-flex justify-space-between pt-4"},{default:o(()=>[t(g,{color:"grey-darken-1",variant:"text",class:"text-none px-6",onClick:e[4]||(e[4]=a=>H(C).push("/quizzes"))},{default:o(()=>e[10]||(e[10]=[r(" Cancel ")])),_:1}),t(g,{color:"success",class:"text-none px-6",loading:x.value,disabled:!w.value,onClick:V},{default:o(()=>e[11]||(e[11]=[r(" Save ")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(E,{modelValue:c.value,"onUpdate:modelValue":e[6]||(e[6]=a=>c.value=a),"max-width":"400"},{default:o(()=>[t(k,null,{default:o(()=>[t(v,{class:"text-center pt-6 pb-2"},{default:o(()=>e[12]||(e[12]=[r("Add New Category")])),_:1}),t(Q,null,{default:o(()=>[t(f,{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=a=>i.value=a),placeholder:"Enter Category Name",variant:"outlined",color:"success",class:"quiz-input mt-4",density:"comfortable","bg-color":"white","hide-details":"auto",autofocus:"",onKeyup:$(z,["enter"])},null,8,["modelValue"])]),_:1}),t(W,{class:"pa-6 pt-0"},{default:o(()=>[t(T),t(g,{color:"grey-darken-1",variant:"text",class:"text-none",onClick:J},{default:o(()=>e[13]||(e[13]=[r(" Cancel ")])),_:1}),t(g,{color:"success",class:"text-none",disabled:!i.value,onClick:z},{default:o(()=>e[14]||(e[14]=[r(" Add ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Z=j(R,[["__scopeId","data-v-29c5e4d0"]]);export{Z as default};
